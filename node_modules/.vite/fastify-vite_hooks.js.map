{
  "version": 3,
  "sources": ["../fastify-vite/hooks.js", "dep:fastify-vite_hooks"],
  "sourcesContent": ["const { getCurrentInstance } = require('vue')\n\nasync function useServerData (...args) {\n  let dataKey = '$data'\n  let initialData\n  if (args.length === 1) {\n    if (typeof args[0] === 'string') {\n      dataKey = args[0]\n    } else if (typeof args[0] === 'function') {\n      initialData = args[0]\n    }\n  } else if (args.length > 1) {\n    dataKey = args[0]\n    initialData = args[1]\n  }\n  const isSSR = typeof window === 'undefined'\n  const appInstance = getCurrentInstance()\n  const appConfig = appInstance ? appInstance.appContext.app.config : null\n  let $data\n  if (isSSR && initialData) {\n    if (!appConfig) {\n      return initialData()\n    }\n    appConfig.globalProperties[dataKey] = await initialData()\n    $data = appConfig.globalProperties[dataKey]\n    return $data\n  } else if (initialData) {\n    if (!appConfig) {\n      return initialData()\n    }\n    if (!appConfig.globalProperties[dataKey]) {\n      appConfig.globalProperties[dataKey] = await initialData()\n    }\n    $data = appConfig.globalProperties[dataKey]\n    appConfig.globalProperties[dataKey] = undefined\n    return $data\n  } else {\n    const $data = appConfig.globalProperties[dataKey]\n    const $dataPath = appConfig.globalProperties.$dataPath\n    appConfig.globalProperties[dataKey] = undefined\n    return [$data, $dataPath()]\n  }\n}\n\nfunction useServerAPI () {\n  const appConfig = getCurrentInstance().appContext.app.config\n  const { $api } = appConfig.globalProperties\n  return $api\n}\n\nmodule.exports = { useServerData, useServerAPI }\n", "export default require(\"./node_modules/fastify-vite/hooks.js\");"],
  "mappings": ";;;;;;;AAAA;AAAA,MAAM,CAAE,sBAAuB;AAE/B,kCAAiC,MAAM;AACrC,QAAI,UAAU;AACd,QAAI;AACJ,QAAI,KAAK,WAAW,GAAG;AACrB,UAAI,OAAO,KAAK,OAAO,UAAU;AAC/B,kBAAU,KAAK;AAAA,iBACN,OAAO,KAAK,OAAO,YAAY;AACxC,sBAAc,KAAK;AAAA;AAAA,eAEZ,KAAK,SAAS,GAAG;AAC1B,gBAAU,KAAK;AACf,oBAAc,KAAK;AAAA;AAErB,UAAM,QAAQ,OAAO,WAAW;AAChC,UAAM,cAAc;AACpB,UAAM,YAAY,cAAc,YAAY,WAAW,IAAI,SAAS;AACpE,QAAI;AACJ,QAAI,SAAS,aAAa;AACxB,UAAI,CAAC,WAAW;AACd,eAAO;AAAA;AAET,gBAAU,iBAAiB,WAAW,MAAM;AAC5C,cAAQ,UAAU,iBAAiB;AACnC,aAAO;AAAA,eACE,aAAa;AACtB,UAAI,CAAC,WAAW;AACd,eAAO;AAAA;AAET,UAAI,CAAC,UAAU,iBAAiB,UAAU;AACxC,kBAAU,iBAAiB,WAAW,MAAM;AAAA;AAE9C,cAAQ,UAAU,iBAAiB;AACnC,gBAAU,iBAAiB,WAAW;AACtC,aAAO;AAAA,WACF;AACL,YAAM,SAAQ,UAAU,iBAAiB;AACzC,YAAM,YAAY,UAAU,iBAAiB;AAC7C,gBAAU,iBAAiB,WAAW;AACtC,aAAO,CAAC,QAAO;AAAA;AAAA;AAtCJ;AA0Cf,0BAAyB;AACvB,UAAM,YAAY,qBAAqB,WAAW,IAAI;AACtD,UAAM,CAAE,QAAS,UAAU;AAC3B,WAAO;AAAA;AAHA;AAMT,SAAO,UAAU,CAAE,eAAe;AAAA;;;AClDlC,IAAO,6BAAQ;",
  "names": []
}
